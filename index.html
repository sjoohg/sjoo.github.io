<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SJoo - Diamond Structure</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
              <div className="mb-6 space-y-4">
                <h3 className="font-semibold text-gray-300 border-b border-gray-600 pb-2">Plane Options</h3>
                <div className="flex flex-col"><div className="flex justify-between mb-1"><span>Offset</span><span>{offset}</span></div><input type="range" min="-20" max="20" step="0.5" value={offset} onChange={(e)=>setOffset(Number(e.target.value))} className="w-full" /></div>
                <div className="flex flex-col"><div className="flex justify-between mb-1"><span>Opacity</span><span>{Math.round(opacity*100)}%</span></div><input type="range" min="0" max="1" step="0.1" value={opacity} onChange={(e)=>setOpacity(Number(e.target.value))} className="w-full" /></div>
              </div>
              <div className="mb-6 space-y-4">
                <h3 className="font-semibold text-gray-300 border-b border-gray-600 pb-2">Color Options</h3>
                <div className="flex justify-around items-center">
                  <div className="flex flex-col items-center cursor-pointer" onClick={()=>setActiveColorPicker(activeColorPicker==='atom'?null:'atom')}><span className="text-xs text-gray-400 mb-1">Atom</span><div className="w-8 h-8 rounded-full border-2 border-gray-500 shadow-md" style={{backgroundColor: atomColor}}/></div>
                  <div className="flex flex-col items-center cursor-pointer" onClick={()=>setActiveColorPicker(activeColorPicker==='bond'?null:'bond')}><span className="text-xs text-gray-400 mb-1">Bond</span><div className="w-8 h-8 rounded-full border-2 border-gray-500 shadow-md" style={{backgroundColor: bondColor}}/></div>
                  <div className="flex flex-col items-center cursor-pointer" onClick={()=>setActiveColorPicker(activeColorPicker==='plane'?null:'plane')}><span className="text-xs text-gray-400 mb-1">Plane</span><div className="w-8 h-8 rounded-full border-2 border-gray-500 shadow-md" style={{backgroundColor: planeColor}}/></div>
                  <div className="flex flex-col items-center cursor-pointer" onClick={()=>setActiveColorPicker(activeColorPicker==='bg'?null:'bg')}><span className="text-xs text-gray-400 mb-1">BG</span><div className="w-8 h-8 rounded-full border-2 border-gray-500 shadow-md" style={{backgroundColor: bgColor}}/></div>
                </div>
                {activeColorPicker && (<div className="bg-gray-800 p-3 rounded-lg mt-2 animate-fade-in border border-gray-600"><div className="text-xs text-center text-blue-300 mb-2 font-bold">Select {activeColorPicker==='bg'?'Background':activeColorPicker.charAt(0).toUpperCase()+activeColorPicker.slice(1)} Color</div><div className="grid grid-cols-4 gap-2 place-items-center">{COLOR_PALETTE.map(c=>(<button key={c.hex} onClick={()=>{ if(activeColorPicker==='atom') setAtomColor(c.hex); else if(activeColorPicker==='bond') setBondColor(c.hex); else if(activeColorPicker==='plane') setPlaneColor(c.hex); else if(activeColorPicker==='bg') setBgColor(c.hex); setActiveColorPicker(null); }} className="w-8 h-8 rounded-full border border-gray-500 hover:scale-110 transition-transform shadow-sm" style={{backgroundColor:c.hex}} title={c.name}/>))}</div></div>)}
              </div>
              <div className="mb-6 space-y-4">
                <h3 className="font-semibold text-gray-300 border-b border-gray-600 pb-2">Misc. Options</h3>
                <div className="flex flex-col space-y-2">
                  <label className="flex items-center cursor-pointer hover:text-blue-300 transition-colors"><input type="checkbox" checked={showBonds} onChange={(e)=>setShowBonds(e.target.checked)} className="mr-2 w-4 h-4 accent-blue-500"/>Show Bonds</label>
                  <label className="flex items-center cursor-pointer hover:text-blue-300 transition-colors"><input type="checkbox" checked={showGrid} onChange={(e)=>setShowGrid(e.target.checked)} className="mr-2 w-4 h-4 accent-blue-500"/>Show Grid</label>
                  <label className="flex items-center cursor-pointer hover:text-blue-300 transition-colors"><input type="checkbox" checked={showAxis} onChange={(e)=>setShowAxis(e.target.checked)} className="mr-2 w-4 h-4 accent-blue-500"/>Show Axis</label>
                  <label className="flex items-center cursor-pointer hover:text-blue-300 transition-colors"><input type="checkbox" checked={showBelowOnly} onChange={(e)=>setShowBelowOnly(e.target.checked)} className="mr-2 w-4 h-4 accent-blue-500"/>Show Below Only</label>
                  <label className="flex items-center cursor-pointer hover:text-blue-300 transition-colors"><input type="checkbox" checked={show2D} onChange={(e)=>setShow2D(e.target.checked)} className="mr-2 w-4 h-4 accent-blue-500"/>Show 2D View</label>
                </div>
                <div className="flex flex-col mt-4"><div className="flex justify-between mb-1"><span>Structure Size (NxNxN)</span><span>{structureSize}x{structureSize}x{structureSize}</span></div><input type="range" min="2" max="6" step="1" value={structureSize} onChange={(e)=>setStructureSize(Number(e.target.value))} className="w-full"/></div>
                <div className="flex flex-col mt-2"><div className="flex justify-between mb-1"><span>Atom Size</span><span>{atomSize}</span></div><input type="range" min="3" max="10" step="0.5" value={atomSize} onChange={(e)=>setAtomSize(Number(e.target.value))} className="w-full"/></div>
              </div>
              <button onClick={()=>{ setH(1); setK(1); setL(1); setOffset(0); if(controlsRef.current) controlsRef.current.reset(); }} className="w-full py-2 bg-red-600 hover:bg-red-700 rounded text-white font-bold transition-colors shadow-lg">Reset View</button>
              <div className="mt-8 text-xs text-gray-500 space-y-1"><p>• Left Click / 1-Finger: Rotate (회전)</p><p>• Right Click / 2-Finger: Pan (이동)</p><p>• Scroll / Pinch: Zoom (확대/축소)</p><div className="mt-2 pt-2 border-t border-gray-700"><p className="text-blue-300">■ Blue: Miller Plane</p><p className="text-gray-300">● White: Carbon Atoms</p><p>Device/SRAMlab2 sjoo.hwang@samsung.com</p></div></div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(React.createElement(App));
    </script>
  </body>
</html>
